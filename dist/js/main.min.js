"use strict";var burgerBtn=document.querySelector(".hamburger"),navMobile=document.querySelector(".nav-mobile"),footerYear=document.querySelector(".footer__year"),womanRadio=document.querySelector("#woman"),manRadio=document.querySelector("#man"),weight=document.querySelector("#weight"),height=document.querySelector("#height"),age=document.querySelector("#age"),activity=document.querySelector("#activity-level"),dietGoal=document.querySelector("#diet-goal"),calcBtn=document.querySelector(".calc-btn"),resultPopup=document.querySelector(".result"),closeBtn=document.querySelector(".close"),kcal=document.querySelector(".kcal"),errorBox=document.querySelector(".error-section"),errorText=document.querySelector(".error"),closeErrorBtn=document.querySelector(".close-error-btn"),menuItems=document.querySelectorAll(".nav-desktop .nav__link"),scrollSpySections=document.querySelectorAll(".section"),handleNav=function(){document.body.classList.toggle("sticky-body"),navMobile.classList.toggle("nav-mobile--active"),burgerBtn.classList.toggle("is-active")},handleCurrentYear=(navMobile.querySelectorAll("a.nav__link").forEach(function(e){return e.addEventListener("click",function(){navMobile.classList.remove("nav-mobile--active"),burgerBtn.classList.remove("is-active"),document.body.classList.remove("sticky-body")})}),function(){var e=(new Date).getFullYear();footerYear.innerText=e}),showError=function(){errorBox.style.display="flex"},closeError=function(){errorBox.style.display=""},clearError=function(){errorBox.style.display=""},checkCalc=function(){(""===weight.value||""===height.value||""===age.value||!0!==womanRadio.checked&&!0!==manRadio.checked||""===activity.options[activity.selectedIndex].value||""===dietGoal.options[dietGoal.selectedIndex].value?showError:(clearError(),kcalCalc))()},kcalCalc=function(){var e=parseFloat(weight.value),t=parseFloat(height.value),o=parseFloat(age.value),e=womanRadio.checked?655.1+9.567*"".concat(e)+1.85*"".concat(t)-4.68*"".concat(o):66.47+13.7*"".concat(e)+5*"".concat(t)-6.76*"".concat(o),t=activity.options[activity.selectedIndex].value,o=parseFloat(dietGoal.options[dietGoal.selectedIndex].value);e*=t,kcal.textContent=parseInt(e*o)+" kcal",resultPopup.style.display="flex"},closeResultPopup=function(){resultPopup.style.display="",weight.value="",height.value="",age.value=""},handleScrollSpy=function(){var t;document.body.classList.contains("main-page")&&(t=[],scrollSpySections.forEach(function(e){window.scrollY<=e.offsetTop+e.offsetHeight-130&&(t.push(e),e=document.querySelector('[href*="'.concat(t[0].id,'"]')),menuItems.forEach(function(e){return e.classList.remove("active")}),e.classList.add("active"))}))},checkSite=function(){document.body.classList.contains("kcal-calc")&&(closeBtn.addEventListener("click",closeResultPopup),calcBtn.addEventListener("click",checkCalc),closeErrorBtn.addEventListener("click",closeError))};burgerBtn.addEventListener("click",handleNav),handleCurrentYear(),checkSite(),window.addEventListener("scroll",handleScrollSpy);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2TW9iaWxlIiwid29tYW5SYWRpbyIsIm1hblJhZGlvIiwid2VpZ2h0IiwiaGVpZ2h0IiwiYWdlIiwiYWN0aXZpdHkiLCJkaWV0R29hbCIsImNhbGNCdG4iLCJjbG9zZUJ0biIsImtjYWwiLCJlcnJvckJveCIsImNsb3NlRXJyb3JCdG4iLCJtZW51SXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2Nyb2xsU3B5U2VjdGlvbnMiLCJjbGFzc0xpc3QiLCJib2R5IiwidG9nZ2xlIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJoYW5kbGVDdXJyZW50WWVhciIsImVsIiwicmVtb3ZlIiwieWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImZvb3RlclllYXIiLCJpbm5lclRleHQiLCJkaXNwbGF5Iiwic3R5bGUiLCJjbG9zZUVycm9yIiwiY2hlY2tDYWxjIiwiY2xlYXJFcnJvciIsInNob3dFcnJvciIsImtjYWxDYWxjIiwicGFyc2VGbG9hdCIsImhlaWdodDIiLCJhZ2UyIiwiY2FsY3VsYXRpb24iLCJjYWxjdWxhdGlvbjIiLCJjaGVja2VkIiwic2VsZWN0ZWRJbmRleCIsInZhbHVlIiwiZGlldFZhcmlhYmxlIiwicmVzdWx0UG9wdXAiLCJ3ZWlnaHQyIiwiY2xvc2VSZXN1bHRQb3B1cCIsImNvbmNhdCIsInBhbCIsInNlY3Rpb25zIiwib3B0aW9ucyIsInNlY3Rpb24iLCJ0ZXh0Q29udGVudCIsInBhcnNlSW50IiwiYWN0aXZlU2VjdGlvbiIsImhhbmRsZVNjcm9sbFNweSIsImNvbnRhaW5zIiwid2luZG93Iiwic2Nyb2xsWSIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsImlkIiwiaXRlbSIsImFkZCIsImNoZWNrU2l0ZSIsImhhbmRsZU5hdiJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsVUFBWUMsU0FBU0MsY0FBYyxZQUFZLEVBQy9D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dEJGLFlBc0JHaEMsTUFBVU0sUUFBUSxHQXJCckJoQixPQUFPd0MsTUFxQmtCLEdBcEJ6QnZDLE9Bb0I0RHVDLE1BQUMsR0FuQjdEdEMsSUFBSXNDLE1Bb0JEWSxFQW5CSixFQUlNQyxnQkFBa0IsV0FxQnhCLElBbkJRTixFQW1CUnBELFNBQUFtQixLQUFBRCxVQUFBeUMsU0FBQSxXQUFBLElBbkJRUCxFQUFXLEdBc0JsQm5DLGtCQUFrQkMsUUFBQUEsU0FBQUEsR0FLbEIwQyxPQUFBQyxTQUFBUCxFQUFBUSxVQUFBUixFQUFBUyxhQUFBLE1BRURoRSxFQUFVdUIsS0FBQUEsQ0FBQUEsRUFFQW1DLEVBQUN6RCxTQUFBQyxjQUFBLFdBQUFpRCxPQUFBRSxFQUFBLEdBQUFZLEdBQUEsSUFBQSxDQUFBLEVBbkJQakQsVUFBVU0sUUFBUSxTQUFBNEMsR0FBSSxPQUFJQSxFQUFLL0MsVUFBVU8sT0FBTyxRQUFRLENBQUMsQ0FBQSxFQUN6RGdDLEVBQWN2QyxVQUFVZ0QsSUFBSSxRQUFRLEVBRXRDLENBQUMsRUFFSCxFQUlNQyxVQUFZLFdBQ2JuRSxTQUFTbUIsS0FBS0QsVUFBVXlDLFNBQVMsV0FBVyxJQUMvQ2hELFNBQVNXLGlCQUFpQixRQUFTMkIsZ0JBQWdCLEVBQ25EdkMsUUFBUVksaUJBQWlCLFFBQVNZLFNBQVMsRUFDM0NwQixjQUFjUSxpQkFBaUIsUUFBU1csVUFBVSxFQUVwRCxFQUVBbEMsVUFBVXVCLGlCQUFpQixRQUFTOEMsU0FBUyxFQUM3QzdDLGtCQUFrQixFQUNsQjRDLFVBQVUsRUFDVlAsT0FBT3RDLGlCQUFpQixTQUFVb0MsZUFBZSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXInKVxyXG5jb25zdCBuYXZNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2LW1vYmlsZScpXHJcblxyXG5jb25zdCBmb290ZXJZZWFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvb3Rlcl9feWVhcicpXHJcblxyXG5jb25zdCB3b21hblJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dvbWFuJylcclxuY29uc3QgbWFuUmFkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFuJylcclxuY29uc3Qgd2VpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dlaWdodCcpXHJcbmNvbnN0IGhlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWlnaHQnKVxyXG5jb25zdCBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWdlJylcclxuY29uc3QgYWN0aXZpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWN0aXZpdHktbGV2ZWwnKVxyXG5jb25zdCBkaWV0R29hbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaWV0LWdvYWwnKVxyXG5jb25zdCBjYWxjQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhbGMtYnRuJylcclxuXHJcbmNvbnN0IHJlc3VsdFBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3VsdCcpXHJcbmNvbnN0IGNsb3NlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsb3NlJylcclxubGV0IGtjYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcua2NhbCcpXHJcblxyXG5jb25zdCBlcnJvckJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci1zZWN0aW9uJylcclxuY29uc3QgZXJyb3JUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVycm9yJylcclxuY29uc3QgY2xvc2VFcnJvckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZS1lcnJvci1idG4nKVxyXG5cclxuY29uc3QgbWVudUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdi1kZXNrdG9wIC5uYXZfX2xpbmsnKVxyXG5jb25zdCBzY3JvbGxTcHlTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWN0aW9uJylcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuY29uc3QgaGFuZGxlTmF2ID0gKCkgPT4ge1xyXG5cdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnc3RpY2t5LWJvZHknKVxyXG5cdG5hdk1vYmlsZS5jbGFzc0xpc3QudG9nZ2xlKCduYXYtbW9iaWxlLS1hY3RpdmUnKVxyXG5cdGJ1cmdlckJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKVxyXG59XHJcblxyXG5uYXZNb2JpbGUucXVlcnlTZWxlY3RvckFsbCgnYS5uYXZfX2xpbmsnKS5mb3JFYWNoKGVsID0+XHJcblx0ZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRuYXZNb2JpbGUuY2xhc3NMaXN0LnJlbW92ZSgnbmF2LW1vYmlsZS0tYWN0aXZlJylcclxuXHRcdGJ1cmdlckJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKVxyXG5cdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdzdGlja3ktYm9keScpXHJcblx0fSlcclxuKVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5jb25zdCBoYW5kbGVDdXJyZW50WWVhciA9ICgpID0+IHtcclxuXHRjb25zdCB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpXHJcblx0Zm9vdGVyWWVhci5pbm5lclRleHQgPSB5ZWFyXHJcbn1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKCkgPT4ge1xyXG5cdGVycm9yQm94LnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcclxufVxyXG5cclxuY29uc3QgY2xvc2VFcnJvciA9ICgpID0+IHtcclxuXHRlcnJvckJveC5zdHlsZS5kaXNwbGF5ID0gJydcclxuXHRcclxufVxyXG5cclxuY29uc3QgY2xlYXJFcnJvciA9ICgpID0+IHtcclxuXHRlcnJvckJveC5zdHlsZS5kaXNwbGF5ID0gJydcclxufVxyXG5cclxuY29uc3QgY2hlY2tDYWxjID0gKCkgPT4ge1xyXG5cdGlmIChcclxuXHRcdHdlaWdodC52YWx1ZSAhPT0gJycgJiZcclxuXHRcdGhlaWdodC52YWx1ZSAhPT0gJycgJiZcclxuXHRcdGFnZS52YWx1ZSAhPT0gJycgJiZcclxuXHRcdCh3b21hblJhZGlvLmNoZWNrZWQgPT09IHRydWUgfHwgbWFuUmFkaW8uY2hlY2tlZCA9PT0gdHJ1ZSkgJiZcclxuXHRcdGFjdGl2aXR5Lm9wdGlvbnNbYWN0aXZpdHkuc2VsZWN0ZWRJbmRleF0udmFsdWUgIT09ICcnICYmXHJcblx0XHRkaWV0R29hbC5vcHRpb25zW2RpZXRHb2FsLnNlbGVjdGVkSW5kZXhdLnZhbHVlICE9PSAnJ1xyXG5cdCkge1xyXG5cdFx0Y2xlYXJFcnJvcigpXHJcblx0XHRrY2FsQ2FsYygpXHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcigpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBrY2FsQ2FsYyA9ICgpID0+IHtcclxuXHRsZXQgd2VpZ2h0MiA9IHBhcnNlRmxvYXQod2VpZ2h0LnZhbHVlKVxyXG5cdGxldCBoZWlnaHQyID0gcGFyc2VGbG9hdChoZWlnaHQudmFsdWUpXHJcblx0bGV0IGFnZTIgPSBwYXJzZUZsb2F0KGFnZS52YWx1ZSlcclxuXHRsZXQgY2FsY3VsYXRpb25cclxuXHRsZXQgY2FsY3VsYXRpb24yXHJcblxyXG5cdGlmICh3b21hblJhZGlvLmNoZWNrZWQpIHtcclxuXHRcdGNhbGN1bGF0aW9uID0gNjU1LjEgKyA5LjU2NyAqIGAke3dlaWdodDJ9YCArIDEuODUgKiBgJHtoZWlnaHQyfWAgLSA0LjY4ICogYCR7YWdlMn1gXHJcblx0fSBlbHNlIHtcclxuXHRcdGNhbGN1bGF0aW9uID0gNjYuNDcgKyAxMy43ICogYCR7d2VpZ2h0Mn1gICsgNSAqIGAke2hlaWdodDJ9YCAtIDYuNzYgKiBgJHthZ2UyfWBcclxuXHR9XHJcblxyXG5cdGNvbnN0IHBhbCA9IGFjdGl2aXR5Lm9wdGlvbnNbYWN0aXZpdHkuc2VsZWN0ZWRJbmRleF0udmFsdWVcclxuXHRjb25zdCBkaWV0VmFyaWFibGUgPSBwYXJzZUZsb2F0KGRpZXRHb2FsLm9wdGlvbnNbZGlldEdvYWwuc2VsZWN0ZWRJbmRleF0udmFsdWUpXHJcblx0Y2FsY3VsYXRpb24gPSBjYWxjdWxhdGlvbiAqIHBhbFxyXG5cdGNhbGN1bGF0aW9uMiA9IGNhbGN1bGF0aW9uICogZGlldFZhcmlhYmxlXHJcblx0a2NhbC50ZXh0Q29udGVudCA9IHBhcnNlSW50KGNhbGN1bGF0aW9uMikgKyAnIGtjYWwnXHJcblx0cmVzdWx0UG9wdXAuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xyXG59XHJcblxyXG5jb25zdCBjbG9zZVJlc3VsdFBvcHVwID0gKCkgPT4ge1xyXG5cdHJlc3VsdFBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnJ1xyXG5cdHdlaWdodC52YWx1ZSA9ICcnXHJcblx0aGVpZ2h0LnZhbHVlID0gJydcclxuXHRhZ2UudmFsdWUgPSAnJ1xyXG59XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmNvbnN0IGhhbmRsZVNjcm9sbFNweSA9ICgpID0+IHtcclxuXHRpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tcGFnZScpKSB7XHJcblx0XHRjb25zdCBzZWN0aW9ucyA9IFtdXHJcblxyXG5cdFx0c2Nyb2xsU3B5U2VjdGlvbnMuZm9yRWFjaChzZWN0aW9uID0+IHtcclxuXHRcdFx0Ly8gY29uc29sZS5sb2cod2luZG93LnNjcm9sbFkpO1xyXG5cdFx0XHQvLyBjb25zb2xlLmxvZyhzZWN0aW9uLm9mZnNldFRvcCk7XHJcblx0XHRcdC8vIGNvbnNvbGUubG9nKHNlY3Rpb24ub2Zmc2V0SGVpZ2h0KTtcclxuXHJcblx0XHRcdGlmICh3aW5kb3cuc2Nyb2xsWSA8PSBzZWN0aW9uLm9mZnNldFRvcCArIHNlY3Rpb24ub2Zmc2V0SGVpZ2h0IC0gMTMwKSB7XHJcblx0XHRcdFx0c2VjdGlvbnMucHVzaChzZWN0aW9uKVxyXG5cclxuXHRcdFx0XHRjb25zdCBhY3RpdmVTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2hyZWYqPVwiJHtzZWN0aW9uc1swXS5pZH1cIl1gKVxyXG5cclxuXHRcdFx0XHRtZW51SXRlbXMuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpXHJcblx0XHRcdFx0YWN0aXZlU2VjdGlvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH1cclxufVxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5jb25zdCBjaGVja1NpdGUgPSAoKSA9PiB7XHJcblx0aWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdrY2FsLWNhbGMnKSkge1xyXG5cdFx0Y2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZVJlc3VsdFBvcHVwKVxyXG5cdFx0Y2FsY0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoZWNrQ2FsYylcclxuXHRcdGNsb3NlRXJyb3JCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZUVycm9yKVxyXG5cdH1cclxufVxyXG5cclxuYnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTmF2KVxyXG5oYW5kbGVDdXJyZW50WWVhcigpXHJcbmNoZWNrU2l0ZSgpXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVTY3JvbGxTcHkpXHJcbiJdfQ==
